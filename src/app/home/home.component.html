<main class="boards">
  <div class="boards__top">
    <div *ngIf="boards.length">Select board:</div>
    <select
      (ngModelChange)="onChange($event)"
      class="boards__select select"
      name="board"
      [ngModel]="currentBoard"
      *ngIf="boards.length"
    >
      <option *ngFor="let board of boards" [value]="board.id">
        {{ board.name }}
      </option>
    </select>
    <!-- <a href="#" class="board-add-btn add-btn" (click)="showNewBoardModal($event)"
    >Add board...
    </a> -->
    <a
      href="#"
      class="board-add-btn add-btn"
      (click)="openDialog($event, newBoardModal)"
      >Add board...
    </a>
  </div>
  <ng-container *ngFor="let board of boards; let i = index">
    <app-board *ngIf="board.id == currentBoard" [board]="board"> </app-board>
  </ng-container>
  <!-- <app-modal id="new-board-modal" (NewBoardSubmit)="onNewBoardSubmit($event)">
    <form class="modal__form" id="new-board-form">
      <label class="modal__row">
        <div class="modal__row-name">New board name:</div>
        <input
          type="text"
          name="statusname"
          [(ngModel)]="newBoard"
          class="modal__form-input"
          required
          #statusname="ngModel"
        />
      </label>
      <button class="modal__form-submit" [disabled]="statusname.invalid">
        Submit
      </button>
    </form>
  </app-modal> -->
</main>

<ng-template #newBoardModal id="new-board-modal">
  <div class="modal__container">
    <form
      class="modal__form"
      id="new-board-form"
      (submit)="onNewBoardSubmit($event)"
    >
      <label class="modal__row">
        <div class="modal__row-name">New board name:</div>
        <input
          type="text"
          name="statusname"
          [(ngModel)]="newBoard"
          [ngModelOptions]="{ updateOn: 'blur' }"
          class="modal__form-input"
          required
          #statusname="ngModel"
        />
      </label>
      <button class="modal__form-submit" [disabled]="statusname.invalid">
        Submit
      </button>
    </form>
  </div>
</ng-template>
